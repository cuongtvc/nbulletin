<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Điểm tin </title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 15px;
    }
    .header h2 {
      margin: 0;
      font-size: 24px;
      color: #333;
    }
    .controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .controls label {
      font-weight: bold;
      color: #555;
    }
    .controls select {
      padding: 6px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 3px;
    }
    .btn {
      padding: 6px 12px;
      font-size: 14px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      background-color: #007BFF;
      color: #fff;
      transition: background-color 0.3s ease;
    }
    .btn:hover {
      background-color: #0056b3;
    }
    .news-item {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
    .news-item:last-child {
      border-bottom: none;
    }
    .news-item h3 {
      margin: 0 0 5px;
      color: #007BFF;
    }
    .news-item p {
      margin: 0;
      color: #555;
    }
    .loading {
      text-align: center;
      font-size: 16px;
      color: gray;
      margin-top: 20px;
    }
    #back-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: none;
      background-color: #007BFF;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      transition: opacity 0.3s ease;
    }
    .news-link {
      cursor: pointer;
    }
  </style>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W9WTM4SP');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W9WTM4SP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="container">
    <!-- Filter Dropdown -->
    <div class="controls">
      <label for="news-filter">Điểm tin:</label>
      <select id="news-filter">
        <option value="important">Tin mới</option>
        <option value="positive">Tin vui</option>
        <option value="the-gioi">Thế Giới</option>
        <option value="thoi-su">Thời Sự</option>
        <option value="kinh-doanh">Kinh Doanh</option>
        <option value="giai-tri">Giải Trí</option>
        <option value="the-thao">Thể Thao</option>
        <option value="phap-luat">Pháp Luật</option>
        <option value="giao-duc">Giáo Dục</option>
        <option value="suc-khoe">Sức Khỏe</option>
        <option value="gia-dinh">Gia Đình</option>
        <option value="du-lich">Du Lịch</option>
        <option value="cong-nghe">Công Nghệ</option>
        <option value="oto-xe-may">Ôtô Xe Máy</option>
        <option value="y-kien">Ý Kiến</option>
        <option value="tin-khac">Tin Khác</option>
      </select>
    </div>
    
    <div id="news-container"></div>
    <div id="loading" class="loading">Loading more news...</div>
  </div>
  
  <button id="back-to-top">&#8679;</button>

  <script>
    // Replace this with your actual news data.
    const newsData = [{"title":"Florida attorney general opens criminal investigation into Andrew and Tristan Tate","content":"Florida's attorney general has initiated a criminal investigation into Andrew and Tristan Tate, who are currently facing human trafficking charges in Romania. Attorney General James Uthmeier announced that his office is collaborating with law enforcement to conduct a preliminary inquiry and has issued search warrants and subpoenas as part of the investigation. This move follows the Tates' return to the U.S., where Governor Ron DeSantis declared them unwelcome in Florida, citing potential jurisdiction over their alleged crimes.","link":"https://www.cbsnews.com/news/florida-attorney-general-investigating-andrew-and-tristan-tate/","cat":"politics","positivity":3,"importance":8,"question":"What is the recent legal action taken against Andrew and Tristan Tate in Florida?","answers":[{"text":"A criminal investigation has been opened by the Florida attorney general.","correct":true},{"text":"They have been acquitted of all charges.","correct":false},{"text":"They are being honored for their contributions to society.","correct":false},{"text":"They have been banned from entering Florida.","correct":false}]},{"title":"Defense tech startup Epirus raises $250M Series D to counter drone swarms","content":"Defense tech startup Epirus, known for its anti-drone systems, has successfully raised $250 million in an oversubscribed Series D funding round. The company, based in Torrance, California, has increased its total funding to over $550 million and remains valued above $1 billion. Epirus plans to utilize the new funds to expand its international and commercial market presence, enhance its team, and improve supply chain resilience, while also developing a new simulation center for military training.","link":"https://techcrunch.com/2025/03/04/defense-tech-startup-epirus-raises-250m-series-d-to-counter-drone-swarms/","cat":"business","positivity":8,"importance":7,"question":"How much money did Epirus raise in its latest funding round?","answers":[{"text":"$250 million","correct":true},{"text":"$200 million","correct":false},{"text":"$1 billion","correct":false},{"text":"$150 million","correct":false},{"text":"$66 million","correct":false}]},{"title":"Quantexa nabs $175M at a $2.6B valuation to double down on data analytics for AI","content":"Quantexa, a London-based startup specializing in AI-driven data analytics to combat money laundering and fraud, has secured $175 million in a Series F funding round, boosting its valuation to $2.6 billion. This new investment will enable the company to enhance its existing services and expand into new territories, particularly in helping organizations better utilize their data for AI applications. The company has reported a 40% increase in license revenue over the past year and plans to accelerate partnerships with major firms like Microsoft and Databricks to build AI solutions for various sectors.","link":"https://techcrunch.com/2025/03/04/quantexa-nabs-175m-at-a-2-6b-valuation-to-double-down-on-data-analytics-for-ai/","cat":"tech","positivity":8,"importance":7,"question":"What recent funding round did Quantexa complete to enhance its AI data analytics services?","answers":[{"text":"$175 million Series F funding","correct":true},{"text":"$100 million Series C funding","correct":false},{"text":"$50 million Series A funding","correct":false},{"text":"$200 million Series B funding","correct":false}]},{"title":"Trump says his administration is \"reclaiming the Panama Canal\"","content":"In a recent address to Congress, President Trump claimed that his administration is \"reclaiming the Panama Canal.\" He also mentioned his interest in acquiring Greenland and referenced a letter from Ukrainian President Volodymyr Zelenskyy following a tense meeting in the Oval Office. Trump's statements have sparked discussions about U.S. territorial interests and foreign policy.","link":"https://www.cbsnews.com/video/trump-says-administration-reclaiming-panama-canal/","cat":"politics","positivity":5,"importance":7,"question":"What did President Trump claim about the Panama Canal in his recent speech?","answers":[{"text":"His administration is reclaiming the Panama Canal.","correct":true},{"text":"The U.S. is selling the Panama Canal.","correct":false},{"text":"The Panama Canal is now under Chinese control.","correct":false},{"text":"The Panama Canal is being expanded.","correct":false}]},{"title":"Trump reveals top terrorist behind Abbey Gate attack apprehended, facing 'swift sword of American justice'","content":"During a speech to Congress, Donald Trump announced the apprehension of Muhammed Sharifullah, the top terrorist suspect behind the 2021 Abbey Gate attack in Afghanistan that resulted in the deaths of 13 U.S. service members. Trump expressed gratitude to Pakistan for their assistance in the capture and conveyed that the families of the victims felt happiness upon hearing the news. He criticized the Biden administration's withdrawal from Afghanistan, linking it to the subsequent chaos and adversary actions, including Russia's invasion of Ukraine.","link":"https://www.foxnews.com/politics/trump-reveals-top-terrorist-behind-abbey-gate-attack-apprehended-facing-swift-sword-american-justice","cat":"politics","positivity":7,"importance":8,"question":"Who was apprehended as the top terrorist suspect behind the Abbey Gate attack?","answers":[{"text":"Muhammed Sharifullah","correct":true},{"text":"Abdul Khaliq","correct":false},{"text":"Joe Biden","correct":false},{"text":"Ted Cruz","correct":false},{"text":"Kamala Harris","correct":false}]},{"title":"Here's why congresswomen wore pink for Trump's speech","content":"During President Trump's address to Congress on March 4, 2025, many Democratic congresswomen wore bright pink as a form of protest against his policies, which they argue negatively impact women and families. Rep. Teresa Leger Fernández stated that the color symbolizes both power and opposition to Trump's agenda, emphasizing the need for women to assert their rights regarding health care and personal choices. This action follows previous displays where congresswomen have used color to highlight women's rights, including wearing white during past addresses.","link":"https://www.cbsnews.com/news/why-congresswomen-wearing-pink-trump-speech-2025/","cat":"politics","positivity":3,"importance":7,"question":"Why did congresswomen wear pink for Trump's speech?","answers":[{"text":"To protest against Trump's policies affecting women and families.","correct":true},{"text":"To celebrate Trump's achievements.","correct":false},{"text":"To support the Republican agenda.","correct":false},{"text":"To promote a new fashion trend.","correct":false}]},{"title":"Fact-checking Trump's address to Congress","content":"During President Trump's 2025 joint address to Congress, various statements made were fact-checked, revealing inaccuracies and misleading claims. For instance, Trump incorrectly stated that Stacey Abrams led a group receiving $1.9 billion for decarbonization, while the actual grant was awarded to a coalition of organizations with no direct connection to her. He also exaggerated the number of migrants entering the U.S. under Biden, claiming 21 million when the actual number was around 11 million encounters. Other claims regarding electric vehicle mandates and inflation were also deemed misleading or partially true, highlighting the discrepancies in Trump's assertions during the speech.","link":"https://www.cbsnews.com/news/trump-fact-check-joint-address-congress-2025/","cat":"politics","positivity":4,"importance":8,"question":"What inaccuracies were found in Trump's address to Congress?","answers":[{"text":"Trump claimed 21 million migrants entered the U.S. under Biden, which is an exaggeration.","correct":true},{"text":"Trump accurately stated the number of migrants entering the U.S. under Biden.","correct":false},{"text":"Trump did not make any misleading claims during his speech.","correct":false},{"text":"Trump claimed that Stacey Abrams led a $1.9 billion grant for decarbonization, which is true.","correct":false}]},{"title":"Sen. Elissa Slotkin delivers Democratic response to Trump speech","content":"Senator Elissa Slotkin of Michigan delivered the Democratic response to President Trump's speech to Congress on March 4, 2025. Slotkin, who replaced longtime Senator Debbie Stabenow, is a former CIA officer and has a reputation for bipartisan cooperation. Her response followed Trump's lengthy address and highlights her commitment to working across party lines in the Senate.","link":"https://www.cbsnews.com/news/slotkin-democratic-response-trump-speech-2025/","cat":"politics","positivity":6,"importance":7,"question":"What did Senator Elissa Slotkin do in response to Trump's speech?","answers":[{"text":"Delivered the Democratic response","correct":true},{"text":"Supported Trump's policies","correct":false},{"text":"Criticized the Senate","correct":false},{"text":"Announced her resignation","correct":false},{"text":"Promised to work alone","correct":false}]},{"title":"Ukraine willing to sign minerals deal after earlier agreement fell apart","content":"Ukrainian officials have expressed their willingness to sign a minerals agreement with the U.S., following a recent failed meeting involving President Trump and President Zelenskyy. Although the original plan fell apart during an acrimonious Oval Office discussion, Zelenskyy indicated in a letter that Ukraine is ready to finalize the deal at a convenient time. The U.S. is seeking a more favorable agreement, and while negotiations are ongoing, Treasury Secretary Scott Bessent stated that the deal is not currently finalized.","link":"https://www.cbsnews.com/news/us-ukraine-minerals-deal-trump-zelenskyy/","cat":"politics","positivity":6,"importance":8,"question":"Is Ukraine willing to sign a minerals deal after the recent failed agreement?","answers":[{"text":"Yes, they indicated willingness to sign the deal.","correct":true},{"text":"No, they are not interested anymore.","correct":false},{"text":"They are only interested in a different agreement.","correct":false},{"text":"They have not made any statement about it.","correct":false}]},{"title":"Takeaways from Trump's joint address to Congress","content":"In his recent joint address to Congress, President Trump highlighted his achievements over his term, delivering a speech that lasted nearly two hours. The address covered various topics, emphasizing the administration's successes and future goals. CBS News provided insights from reporters Margaret Brennan, Scott MacFarlane, and Weijia Jiang on the key takeaways from the event.","link":"https://www.cbsnews.com/video/takeaways-trumps-joint-address-congress/","cat":"politics","positivity":7,"importance":8,"question":"What were the main themes of Trump's joint address to Congress?","answers":[{"text":"Trump's accomplishments and future goals","correct":true},{"text":"Challenges faced by his administration","correct":false},{"text":"Plans for international relations","correct":false},{"text":"Economic downturns during his presidency","correct":false}]}];

    const pageSize = 10;       // Number of articles to load each time
    let currentIndex = 0;      // Tracks which batch of items has been loaded
    let isLoading = false;     // Prevents multiple simultaneous loads

    // Set currentFilter to stored value or default to "important"
    let currentFilter = localStorage.getItem("filter") || "important";

    const newsContainer = document.getElementById("news-container");
    const loadingElem = document.getElementById("loading");
    const filterDropdown = document.getElementById("news-filter");
    const backToTopBtn = document.getElementById("back-to-top");

    // Update the dropdown to reflect the stored filter
    filterDropdown.value = currentFilter;

    // Filter news data based on the current filter value.
    function getFilteredNewsData() {
      switch (currentFilter) {
        case "important":
          return newsData.filter(item => item.importance >= 8);
        case "positive":
          return newsData.filter(item => item.positivity >= 8);
        // For category filters, match item.cat exactly
        case "the-gioi":
        case "thoi-su":
        case "kinh-doanh":
        case "giai-tri":
        case "the-thao":
        case "phap-luat":
        case "giao-duc":
        case "suc-khoe":
        case "gia-dinh":
        case "du-lich":
        case "cong-nghe":
        case "oto-xe-may":
        case "y-kien":
          return newsData.filter(item => item.cat === currentFilter);
        case "tin-khac":
          return newsData.filter(item => 
            !['the-gioi', 'thoi-su', 'kinh-doanh', 'giai-tri', 'the-thao', 
             'phap-luat', 'giao-duc', 'suc-khoe', 'gia-dinh', 'du-lich', 
             'cong-nghe', 'oto-xe-may', 'y-kien'].includes(item.cat)
          );
        default:
          return newsData;
      }
    }

    // Load and render the next batch of news articles.
    function loadMoreNews() {
      if (isLoading) return;
      isLoading = true;
      loadingElem.style.display = "block";

      setTimeout(() => {
        const filteredNews = getFilteredNewsData();
        const nextBatch = filteredNews.slice(currentIndex, currentIndex + pageSize);

        if (filteredNews.length === 0 && currentIndex === 0) {
          newsContainer.innerHTML = "<p>No articles match your filter.</p>";
          loadingElem.style.display = "none";
          window.removeEventListener("scroll", handleScroll);
          isLoading = false;
          return;
        }

        nextBatch.forEach(item => {
          const newsItem = document.createElement("div");
          const newsId = convertVietnameseToEnglish(`'${item.title}'`);
          newsItem.classList.add("news-item");
          newsItem.innerHTML = `
            <h3 id='${newsId}'>${item.title}</h3>
            <a class="news-link" href="#${newsId}" onclick="openNewTab('${item.link}')">${item.link}</a>
            <p>${item.content}</p>
          `;
          newsContainer.appendChild(newsItem);
        });

        currentIndex += pageSize;
        isLoading = false;

        if (currentIndex >= filteredNews.length) {
          loadingElem.style.display = "none";
          window.removeEventListener("scroll", handleScroll);
        }
      }, 500); // Simulated loading delay
    }

    // Handle scroll events for infinite scrolling and back-to-top visibility.
    function handleScroll() {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) {
        pushDataLayer({event: 'load_more_news'});
        loadMoreNews();
      }
      // Show the back-to-top button after scrolling down 300px
      backToTopBtn.style.display = window.scrollY > 300 ? "block" : "none";
    }

    // Reset and reload news when the filter is changed.
    function onFilterChange() {
      currentFilter = filterDropdown.value;
      localStorage.setItem("filter", currentFilter);
      pushDataLayer({event: 'filter_changed_' + currentFilter});
      currentIndex = 0;
      newsContainer.innerHTML = "";
      loadingElem.style.display = "block";
      window.addEventListener("scroll", handleScroll);
      loadMoreNews();
    }

    // Smooth scroll back to the top of the page.
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
      pushDataLayer({event: 'scroll_to_top'});
    }

    function pushDataLayer(data) {
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push(data);
    }

    function openNewTab(link) {
        pushDataLayer({event: 'view_details'});
        window.open(link, '_self');
    }

    function convertVietnameseToEnglish(str) {
      // Convert to lowercase for consistency
      str = str.toLowerCase();

      // Normalize the string to separate diacritics from letters
      str = str.normalize('NFD');

      // Remove diacritical marks
      str = str.replace(/[\u0300-\u036f]/g, '');

      // Replace Vietnamese specific characters not handled by normalization
      str = str.replace(/đ/g, 'd');

      // Remove any remaining non-alphanumeric characters except spaces and hyphens
      str = str.replace(/[^a-z0-9\s-]/g, '');

      // Replace spaces (and consecutive spaces) with a single hyphen and trim extra hyphens
      return str.trim().replace(/\s+/g, '-');
    }

    // Initial load
    loadMoreNews();
    window.addEventListener("scroll", handleScroll);

    // Listen for filter changes, refresh clicks, and back-to-top clicks.
    filterDropdown.addEventListener("change", onFilterChange);
    backToTopBtn.addEventListener("click", scrollToTop);
  </script>
</body>
</html>